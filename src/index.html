<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="/dist/output.css" rel="stylesheet">
</head>
<body class = "bg-lime-300">
    <main class = "flex items-center justify-center h-[75vh] min-h-[500px] p-10 mt-[50px]">
        <div class = "w-[400px] border-2 border-gray-950 rounded-2xl p-5 bg-gray-400 " id = "calculator">
            <div class = "px-[15px] py-[20px] border-2 border-gray-950 rounded-md mb-5 bg-gray-200 text-right text-4xl" id = "screen" >
                <div class = "text-lg mb-2 text-gray-700" id = "pastScreen"></div>
                <div id = "currentScreen">0</div>
            </div>
            <div id = "buttons" >
                <div class = "grid grid-cols-2 gap-3 mb-3">
                    <button class = "bg-red-300 p-5 border-2 rounded-md border-gray-950" id = 'clear'>CLEAR</button>
                    <button class = "bg-blue-300 p-5 border-2 rounded-md border-gray-950">DELETE</button>
                </div>
                <div class = "grid grid-cols-4 gap-3 text-xl">
                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>7
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>8
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>9
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" id = "divide" data-operator>&divide;
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>4
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>5
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>6
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" id = "times" data-operator>&times;
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>1
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>2
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>3
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" id = "minus" data-operator>&minus;
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>.
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" data-number>0
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" id = 'equals'>=
                    </button>

                    <button class = "bg-gray-50 p-5 border-2 rounded-md border-gray-950" id = "add" data-operator>&plus;
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
        const numbers = document.querySelectorAll("[data-number]");
        const currentScreen = document.querySelector("#currentScreen");
        const pastScreen = document.querySelector("#pastScreen");
        let screenCounter = 0;
 
        let operatorCounter = 0;
        let a;
        let b;
        let operatorTrack = '';

        let minus = document.querySelector('#minus');
        let add = document.querySelector('#add');
        let multiply = document.querySelector('#times');
        let divide = document.querySelector('#divide');

        numbers.forEach(number => {
            number.addEventListener('click', () => {
                if((currentScreen.textContent === '0')){
                    currentScreen.textContent = '';
                }
                else if((pastScreen.textContent.length > 0) && (screenCounter == 0)){
                    currentScreen.textContent = '';
                    screenCounter += 1;
                }
                currentScreen.textContent += number.textContent.trim();
                console.log(number.textContent)
            })
        })

        const clear = document.querySelector('#clear'); 
        clear.addEventListener('click', () => {
            currentScreen.textContent = 0
            pastScreen.textContent = ''
            a = 0;
            b = 0;
            operatorCounter = 0;
        })

        const operators = document.querySelectorAll("[data-operator]");
        operators.forEach(operator => {
            operator.addEventListener('click', () => {
                pastScreen.textContent = (currentScreen.textContent + ' ' + operator.textContent);
                screenCounter = 0;
                if(operatorCounter == 0){
                    a = parseFloat(currentScreen.textContent);
                    operatorTrack = operator.textContent;
                    operatorCounter += 1;
                    console.log(a);
                    console.log(operatorTrack);
                    console.log(operatorCounter)
                }
                else{
                    b = parseFloat(currentScreen.textContent);
                    if(operatorTrack == minus.textContent){
                         a = a - b;
                        pastScreen.textContent = (a + ' ' + operator.textContent);
                        currentScreen.textContent = a;
                    }
                    else if(operatorTrack == multiply.textContent){
                        a = a * b;
                        pastScreen.textContent = (a + ' ' + operator.textContent);
                        currentScreen.textContent = a;
                    }
                    else if(operatorTrack == add.textContent){
                        a = a + b;
                        pastScreen.textContent = (a + ' ' +  operator.textContent);
                        currentScreen.textContent = a;
                    }
                    else if(operatorTrack == divide.textContent){
                        a = Number((a/b).toFixed(5));
                        pastScreen.textContent = (a + ' ' +  operator.textContent);
                        currentScreen.textContent = a;
                    }
                    operatorTrack = operator.textContent;
                    console.log(operatorTrack);
                   
                }
            })
        })





    </script>
</body>
</html>
    